!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.Editable=t()}}(function(){var t,e,i;return function n(t,e,i){function o(s,l){if(!e[s]){if(!t[s]){var c=typeof require=="function"&&require;if(!l&&c)return c(s,!0);if(r)return r(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=e[s]={exports:{}};t[s][0].call(h.exports,function(e){var i=t[s][1][e];return o(i?i:e)},h,h.exports,n,t,e,i)}return e[s].exports}var r=typeof require=="function"&&require;for(var s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,i){"use strict";var n=t("jvent");var o=window.addEventListener?"addEventListener":"attachEvent",r=window.removeEventListener?"removeEventListener":"detachEvent",s=o!=="addEventListener"?"on":"";function l(t,e){for(var i in e){if(e[i]){t[i]=e[i]}}return t}function c(t,e){t.prototype=l(t.prototype||{},e.prototype)}function f(t,e){if(!(this instanceof f)){return new f(t,e)}this.initialize(t,e)}c(f,n);f.prototype.initialize=function(t,e){this.el=t;this.title=e||"Click to edit.";this.content=this.el.innerHTML;this.initialContent=this.el.innerHTML;this.el.setAttribute("title",this.title);this.el.setAttribute("tabindex","0");this.bindEvents()};f.prototype.bindEvents=function(){var t=this;this.el[o](s+"focus",function(){t.el.setAttribute("contentEditable",true)},false);this.el[o](s+"keydown",this.onKeydown.bind(this),false);this.el[o](s+"blur",this.onBlur.bind(this),false)};f.prototype.onKeydown=function(t){var e=t.which===27,i=t.which===13;if(e){this.el.innerHTML=this.content;this.el.blur();this.emit("cancel",this.content)}else if(i){this.el.blur()}};f.prototype.onBlur=function(){this.el.removeAttribute("contentEditable");if(this.content!==this.el.innerHTML){this.content=this.el.innerHTML;this.emit("done",this.content)}};f.prototype.destroy=function(){this.el.innerHTML=this.initialContent;this.el.removeAttribute("contentEditable");this.el.removeAttribute("title");this.el[r](s+"keydown");this.el[r](s+"blur")};e.exports=f},{jvent:2}],2:[function(t,e,i){"use strict";function n(){}n.prototype.on=function(t,e){this._collection=this._collection||{};this._collection[t]=this._collection[t]||[];this._collection[t].push(e);return this};n.prototype.once=function(t,e){var i=this;function n(){i.off(t,n);e.apply(this,arguments)}n.listener=e;this.on(t,n);return this};n.prototype.off=function(t,e){var i=this._collection[t],n=0;if(i!==undefined){for(n;n<i.length;n+=1){if(i[n]===e||i[n].listener===e){i.splice(n,1);break}}}if(i.length===0){this.removeAllListeners(t)}return this};n.prototype.removeAllListeners=function(t){this._collection=this._collection||{};delete this._collection[t];return this};n.prototype.listeners=function(t){this._collection=this._collection||{};return this._collection[t]};n.prototype.emit=function(){if(this._collection===undefined){return this}var t=[].slice.call(arguments,0),e=t.shift(),i=this._collection[e],n=0,o;if(i){i=i.slice(0);o=i.length;for(n;n<o;n+=1){i[n].apply(this,t)}}return this};e.exports=n},{}]},{},[1])(1)});